text = '''
‚ö†Ô∏è–í–°–Ø –ü–†–û–î–£–ö–¶–ò–Ø –°–¢–†–û–ì–û –û–†–ò–ì–ò–ù–ê–õ‚ö†Ô∏è
!–ú–ò–ù–°–ö!
–î–æ–±—Ä–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ —Å—É—Ç–æ–∫, –ø—Ä–µ–¥–ª–∞–≥–∞—é –≤–∞—à–µ–º—É –≤–Ω–∏–º–∞–Ω–∏—é —Å–ª–µ–¥—É—é—â–∏–µ –∂–∏–¥–∫–æ—Å—Ç–∏:
 
 + –ù–ï –í–ê–ñ–ï–ù –í–û–ó–†–ê–°–¢!

 + –í–∫—É—Å–Ω–µ–π—à–∞—è –ª–∏–Ω–µ–π–∫–∞ –∂–∏–¥–∫–æ—Å—Ç–µ–π!
 + –ü—Ä–∏—è—Ç–Ω–∞—è —Ü–µ–Ω–∞!

 ‚ÄîHUSKY (DOUBLE ICE SALT)‚Äî
  –í–ö–£–°–´:
   - üßäü•ùChily Kiwi - –õ–µ–¥—è–Ω–æ–π –∫–∏–≤–∏ü•ùüßä

 –¶–ï–ù–ê: 14 –†–£–ë!
 
 ‚Äî‚Äî

 ‚ÄîMAD‚Äî
  –í–ö–£–°–´:
   - üçπ–§—Ä—É–∫—Ç–æ–≤–∞—è –∫–æ—Ä–∑–∏–Ω–∞ —Å —Ç—Ä–æ–ø–∏—á–µ—Å–∫–∏—Ö –æ—Å—Ç—Ä–æ–≤–æ–≤ (Tropic Mix) üçπ
   - üçä –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –≥–∞–∑–∏—Ä–æ–≤–∫–∞ —Å –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã–º –≤–∫—É—Å–æ–º —Å–ø–µ–ª—ã—Ö —Å–æ—á–Ω—ã—Ö –∞–ø–µ–ª—å—Å–∏–Ω–æ–≤ (Orange Soda) üçä
   - üßä –õ–µ–¥—è–Ω—ã–µ –ø–ª–æ–¥—ã –ª–∏—á–∏ (Ice Lychee) üßä
   - üç¨ –ö–∏—Å–ª–∞—è —Ñ—Ä—É–∫—Ç–æ–≤–∞—è –∂–≤–∞—á–∫–∞ —Å–æ –≤–∫—É—Å–æ–º –ª–∞–π–º–∞ (Lime Bubble Gum) üç¨
   - üçìüçë –ú–∞–ª–∏–Ω–æ–≤—ã–π –ª–∏–º–æ–Ω–∞–¥ —Å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –Ω–µ–∂–Ω—ã—Ö –¥–æ–ª–µ–∫ –ø–µ—Ä—Å–∏–∫–∞ (Peach Raspberry Lemonade) üçëüçì
 –¶–ï–ù–ê: 12 –†–£–ë!
 ‚Äî‚Äî

'''

import vk_api
from time import sleep
from datetime import datetime
import traceback

def captcha_handler(captcha):
    """ –ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –∫–∞–ø—á–∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –∏ –µ–π –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç
        –∫–∞–ø—á–∏. –ß–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ get_url –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ.
        –ß–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ try_again –º–æ–∂–Ω–æ –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å —Å –∫–æ–¥–æ–º –∫–∞–ø—á–∏
    """

    captcha_code = captcha.get_url();
    key = input(f'Enter captcha code {captcha_code}')

    # –ü—Ä–æ–±—É–µ–º —Å–Ω–æ–≤–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å —Å –∫–∞–ø—á–µ–π
    return captcha.try_again(key)

vk_session = vk_api.VkApi('+375292938793', '123321AAD', captcha_handler=captcha_handler)
vk_session.auth()

vk = vk_session.get_api()

with open('groups.txt', 'r') as g_file:
    group = g_file.read().splitlines()
image = 'photo692279577_457239039'

def send():
	gr = 0;
	while True:
		try:
			for g in group:
				gr = g;
				vk.wall.post(owner_id=g, message=text, attachments=image)
				vk.wall.post(owner_id=g, message=text, attachments=image)
				print(datetime.today().strftime(f'%H:%M:%S | –ü–æ—Å—Ç –±—ã–ª –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä!\n'
					f'–ì—Ä—É–ø–ø–∞: {g}\n'
					f'–ö–∞—Ä—Ç–∏–Ω–∫–∞: {image}'
				))
			print(datetime.today().strftime(f'%H:%M:%S | –í—Å–µ –ø–æ—Å—Ç—ã –±—ã–ª–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä. –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∂–∏–º —Å–Ω–∞ –Ω–∞ 20 –º–∏–Ω—É—Ç.'))
			sleep(1200)
		except Exception as err:
			print(f'–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞:\n', traceback.format_exc())
			print(f'ID –ì—Ä—É–ø–ø—ã:')
			print(gr)
	
if __name__ == '__main__':
    send()
